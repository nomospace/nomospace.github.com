<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="author" content="nomospace" />
<meta name="keywords" content="" />
<meta property="wb:webmaster" content="9d4b91032648dbe0" />
<title>昌里大金猪的空间 / 关注 CSS Lint</title>
<link href="http://nomospace.github.com/feed.xml" rel="alternate" title="昌里大金猪的空间" type="application/atom+xml" />
<link rel="stylesheet" type="text/css" href="/assets/css/site.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/code/github.css" />

<!--[if IE]>
<script src="/assets/js/html5.js"></script>
<![endif]-->
</head>

<body class="page-type-post" data-name="">
<div class="main">
	<div class="trace">/ <a href="/">昌里大金猪的空间</a> / 关注 CSS Lint</div>

<article>
	<h1><a href="/posts/css-lint.html">关注 CSS Lint</a></h1>
	
	<p class="meta">
	<span class="datetime">2011-06-16</span> posted in [<a href="/category/css" class="category">css</a>]
</p>
	<div class="bct fc05 fc11 nbw-blog ztag js-fs2"><b><br></b><a target="_blank" rel="nofollow"
                                                              href="http://www.nczonline.net/blog/">Nicholas C.
    Zakas</a>最近发布了<a target="_blank" rel="nofollow" href="http://csslint.net/index.html">CSS Lint</a>，旨在检测CSS代码中存在的各种问题，从而写出更高效的CSS。<br><br><font
        size="3" face="微软雅黑"><b>CSS Lint</b></font><font size="3" face="微软雅黑"><b>现有</b></font><font size="3"
                                                                                                    face="微软雅黑"><b>的一些规则</b></font>：<br><br>
    <ul>
        <li><b>修复解析错误</b><i>（Parsing errors should be fixed）</i></li>
    </ul>
    <ul>
        <li><b>避免使用多类选择符</b><i>（Don't use adjoining classes）</i></li>
    </ul>
    <blockquote>IE6以及更古老的浏览器对类似<span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial, helvetica, clean, sans-serif; font-size: 13px; line-height: 16px;"><span></span><code
            style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-style: normal; font-weight: normal; font-family: monospace; line-height: 13px; color: rgb(11, 140, 143);">.foo.bar</code></span></span>的多类选择符解析不正确，参考<a
            target="_blank" href="http://blog.163.com/jinlu_hz/blog/static/1138301522011230113332617/">IE6下的多类选择符</a>一文。<a
            target="_blank" href="http://blog.163.com/jinlu_hz/blog/static/1138301522011230113332617/"></a></blockquote>
    <ul>
        <li><b>移除空的css规则</b><i>（Remove empty rules）</i></li>
    </ul>
    <blockquote>这个规则不包含任何属性，类似：<span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial, helvetica, clean, sans-serif; font-size: 13px; line-height: 16px;"><pre
            style="margin-top: 10px; margin-right: 10px; margin-bottom: 10px; margin-left: 10px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-family: monospace; line-height: 13px; background-color: rgb(255, 255, 226);"><span
            style="color: rgb(68, 85, 136); font-weight: bold;">.foo</span> <span>{</span> <span>}</span></pre></span></span>
    </blockquote>
    <blockquote><span></span> <span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial, helvetica, clean, sans-serif; font-size: 13px; line-height: 16px;"></span></span>空规则的产生原因一般来说是为了预留样式。去除这些空规则无疑能减少css文档体积。<br>
    </blockquote>
    <ul>
        <li><b>正确使用display的属性</b><i>（Use correct properties for a display）</i></li>
    </ul>
    <blockquote>由于display的作用，某些样式组合会无效，徒增样式体积的同时也影响解析性能。CSS Lint会检查一下几点：<span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial,helvetica,clean,sans-serif; font-size: 13px; line-height: 16px;"></span></span><br><span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial,helvetica,clean,sans-serif; font-size: 13px; line-height: 16px;"></span></span><font
            face="arial">display:inline后不应该再使用width、height、margin、padding以及float。</font><br><font face="arial">display:inline-block后不应该再使用float。</font><br><font
            face="arial">display:block后不应该再使用vertical-align。</font><br><font face="arial">display:table-*后不应该再使用margin或者float。</font><br>
    </blockquote>
    <ul>
        <li><b>不滥用浮动</b><i>（Don't use too many floats）</i></li>
    </ul>
    <blockquote>虽然浮动不可避免，但不可否认很多css bug是由于浮动而引起。CSS Lint一旦检测出样式文件中有超过10次的浮动便会提示警告。<br></blockquote>
    <ul>
        <li><b>不滥用web字体</b><i>（Don't use too many web fonts）</i></li>
    </ul>
    <blockquote>对于中文网站来说<a target="_blank" rel="nofollow" href="http://www.w3.org/TR/2002/WD-css3-webfonts-20020802/">Web
        Fonts</a>可能很陌生，国外却很流行。web fonts通常体积庞大，而且一些浏览器在下载web fonts时会阻塞页面渲染损伤性能。<br></blockquote>
    <ul>
        <li><b>不声明</b><b>过多</b><b>的font-size</b><i>（Don't use too may font-size declarations）</i></li>
    </ul>
    <blockquote>这是设计层面的问题，设计精良的页面不会有过多的font-size声明。<br></blockquote>
    <ul>
        <li><b>不在选择符中使用ID标识符</b><i>（Don't use IDs in selectors）</i></li>
    </ul>
    <blockquote>主要考虑到样式重用性以及与页面的耦合性。<br></blockquote>
    <ul>
        <li><b>不给h1~h6元素定义过多的样式</b><i>（Don't qualify headings）</i></li>
    </ul>
    <blockquote>全站统一定义一遍heading元素即可，若需额外定制样式，可使用其他选择符作为代替。<br></blockquote>
    <b></b>
    <ul>
        <li><b>不重复定义h1~h6元素</b><i>（Heading styles should only be defined once）</i></li>
    </ul>
    <ul>
        <li><b>值为0时不需要任何单位</b><i>（Zero values don't need units）</i></li>
    </ul>
    <ul>
        <li><b>标准化各种浏览器前缀</b><i>（Vendor prefixed properties should also have the standard）</i></li>
    </ul>
    <blockquote>通常将浏览器前缀置于前面，将标准样式属性置于最后，类似：<br><span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span
            style="color: rgb(65, 65, 65); font-family: arial, helvetica, clean, sans-serif; font-size: 13px; line-height: 16px;"><pre
            style="margin-top: 10px; margin-right: 10px; margin-bottom: 10px; margin-left: 10px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-family: monospace; line-height: 13px; background-color: rgb(255, 255, 226);"><span
            style="color: rgb(68, 85, 136); font-weight: bold;">.foo</span> <span>{</span><span
            style="font-weight: bold;">-</span><span>moz</span><span style="font-weight: bold;">-</span><span
            style="font-weight: bold;">border</span><span style="font-weight: bold;">-</span><span>radius</span><span
            style="font-weight: bold;">:</span> <span style="color: rgb(0, 153, 153);">5px</span><span>;</span><span
            style="font-weight: bold;">border</span><span style="font-weight: bold;">-</span><span>radius</span><span
            style="font-weight: bold;">:</span> <span
            style="color: rgb(0, 153, 153);">5px</span><span>;</span> <span>}</span></pre></span></span></blockquote>
    <ul>
        <li><b>使用CSS渐变等高级特性，需指定所有浏览器的前缀</b><i>（CSS gradients require all browser prefixes）</i></li>
    </ul>
    <ul>
        <li><b>避免让选择符看起来像正则表达式</b><i>（Avoid selectors that look like regular expressions）</i></li>
    </ul>
    <blockquote>CSS3添加了一些类似<span
            style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: medium;"><span
            style="color: rgb(11, 140, 143); font-family: monospace; font-size: 13px; line-height: 13px;">~=</span></span>等复杂属性，也不是所有浏览器都支持，需谨慎使用。<br>
    </blockquote>
    <ul>
        <li><b>遵守盒模型规则</b><i>（Beware of broken box models）</i></li>
    </ul>
    <br>上述某些规则也许不是最佳实践，可根据项目需求自行添加修改，这也符合CSS Lint pluggable的宗旨。Zakas还给出了<a target="_blank" rel="nofollow"
                                                                           href="https://github.com/stubbornella/csslint">CSS
        Lint for Node.js</a>的检测工具，于是我将Zakas的<a target="_blank" rel="nofollow"
                                               href="https://github.com/stubbornella/csslint/blob/master/demos/demo.css">demo.css</a>在本地试跑了一下，给出的提示简洁明了：<br><br>

    <div>
        <div><img alt="关注CSS Lint - 挪墨 - Nomospace" style="margin:0 10px 0 0;"
                  src="/assets/images/4793518853382545215.png"></div>
        &nbsp;<br>目前<a target="_blank" rel="nofollow" href="https://github.com/stubbornella/csslint">CSS Lint</a>项目刚刚起步，正在征集一些优秀的CSS规则<a
            target="_blank" rel="nofollow" href="https://github.com/stubbornella/csslint/issues">#issues</a>，相信在Zakas以及Node社区的推动下，这个项目会发展地越来越好。
    </div>
</div>


	
	<!--<p class="permalink">永久链接：<a href="http://nomospace.github.io/posts/css-lint.html">http://nomospace.github.io/posts/css-lint.html</a></p>-->
</article>
<div id="disqus_thread" class="comments"></div>

	<footer>
		<p>&copy; 2012-2014 <a href="http://github.com/nomospace" target="_blank">github.com/nomospace</a></p>
	</footer>
</div>

<aside>
	<h2><a href="/">挪墨的空间</a><a href="/feed.xml" class="feed-link" title="RSS订阅"><img width="15" src="/assets/images/feedicon.png" alt="RSS feed" /></a></h2>
	<div class="block block-about">
	  <h3>分类</h3>
		<ul>
		<li class="javascript"><a href="/category/javascript/">javascript</a></li>
		<li class="node"><a href="/category/node/">node</a></li>
		<li class="css"><a href="/category/css/">css</a></li>
		<li class="html5"><a href="/category/html5/">html5</a></li>
		<li class="frontend"><a href="/category/frontend/">frontend</a></li>
		
		</ul>
	</div>

	<form action="/search/" class="block block-search">
		<h3>搜索</h3>
    <input type="search" name="q" placeholder="输入关键词按回车搜索" />
	</form>

	<div class="block block-about">
		<h3><a href="/douban">我的豆瓣</a></h3>
	</div>

	<div class="block block-about">
		<h3><a href="/projects">我的项目</a></h3>
	</div>

	<div class="block block-about" style="display:none;">
    <h3>关于</h3>
		<figure>
			<img src="http://www.gravatar.com/avatar/d6e8639fcaea0c7c0fab106033f05de0?s=80" />
			<figcaption><strong>nomospace</strong></figcaption>
		</figure>
	</div>

	<a style="display:none;" href="https://github.com/nomospace/nomospace.github.com" class="forkme"><img src="/assets/images/forkmeongithub.png" alt="Fork me on GitHub"></a>

    <div class="block block-license">
        <h3>版权申明</h3>
        <p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/2.5/cn/" target="_blank" class="hide-target-icon" title="Copyright declaration of site content"><img alt="知识共享许可协议" src="http://i.creativecommons.org/l/by-nc-nd/2.5/cn/88x31.png" /></a></p>
    </div>

	<div class="block block-thank">
        <h3>Powered by</h3>
        <p>
            <a href="http://disqus.com/" target="_blank">Disqus</a>,
            <a href="http://www.google.com/cse/" target="_blank">Google Custom Search</a>,
            <a href="https://github.com/" target="_blank">GitHub</a>,
            <a href="http://en.gravatar.com/" target="_blank">Gravatar</a>,
            <a href="http://softwaremaniacs.org/soft/highlight/en/">HighlightJS</a>,
            <a href="https://github.com/mojombo/jekyll" target="_blank">jekyll</a>,
            <a href="https://github.com/mytharcher/SimpleGray" target="_blank">SimpleGray</a>
        </p>
    </div>
</aside>

<script src="/assets/js/highlight.js"></script>
<script src="/assets/js/hljs/languages/css.js"></script>
<script src="/assets/js/hljs/languages/xml.js"></script>
<script src="/assets/js/hljs/languages/javascript.js"></script>
<script src="/assets/js/hljs/languages/ruby.js"></script>
<script src="/assets/js/jquery-1.8.0.min.js"></script>

    <script src="http://nomospace.disqus.com/embed.js"></script>

<script src="/assets/js/site.js"></script>
<script>
    var _errs=["4fcf6a84a57ce4043f00032a"];(function(a,b){a.onerror=function(){_errs.push(arguments)};
    var d=function(){var a=b.createElement("script"),c=b.getElementsByTagName("script")[0];
    a.src="//d15qhc0lu1ghnk.cloudfront.net/beacon.js";a.async=!0;
    c.parentNode.insertBefore(a,c)};a.addEventListener?a.addEventListener("load",d,!1):
    a.attachEvent("onload",d)})(window,document);
</script>
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31926992-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F98b0bb1f70082dc53d1cfaafd343ce0c' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>
